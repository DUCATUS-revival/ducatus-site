<app-login *ngIf="!user"></app-login>

<ng-container *ngIf="user">
    <section class="section-header-page" style="background-image: url(/assets/img/sections/vaucher-bg.png);">
        <div class="container">
            <!-- <h1 class="h1__title-page" [innerHTML]="'PAGE.VAUCHER.TITLE' | translate"></h1> -->
        </div>
    </section>
    <section class="app voucher">
        <div class="container">
            <div class="content-block">
                <span class="page-text-title" [innerHTML]="'PAGE.VAUCHER.TITLE' | translate">Voucher</span>
                <div class="page-btn-block">
                    <span class="ducatus-btn ducatus-btn-brown" (click)="popupAdd=true">New Voucher</span>
                    <span class="ducatus-btn ducatus-btn-gold">Importing CSV</span>
                </div>
            </div>
            <div class="content-block">
                <div class="page-table-wrap">
                    <table class="page-table">
                        <thead class="page-table-head">
                            <th style="min-width: 90px; width: 90px;" class="text-center">â„–</th>
                            <th style="min-width: 130px; width: 130px;">Voucher <br> Add Date</th>
                            <th style="min-width: 115px; width: 115px;">Voucher <br> Add Time</th>
                            <th style="min-width: 120px;">Voucher Code</th>
                            <th style="min-width: 100px;">Activation <br> Code</th>
                            <th style="min-width: 60px;">Amount <br> (DUC)</th>
                            <th style="min-width: 80px; width: 80px;" class="text-center">Active</th>
                            <th style="min-width: 120px; width: 120px;" class="text-center">Used/<br>unused</th>
                        </thead>
                        <tbody class="page-table-body">
                            <tr *ngFor="let item of vouchers">
                                <td class="text-center">{{ item.id }}</td>
                                <td class="page-table-text-accent">{{ item.add_date }}</td>
                                <td>{{ item.add_time }}</td>
                                <td>{{ item.code }}</td>
                                <td>{{ item.activation_code }}</td>
                                <td>{{ item.amount }}</td>
                                <td class="text-center">
                                    <label class="ducatus-inputs-switch">
                                        <input type="checkbox" [checked]="item.active">
                                        <span class="ducatus-inputs-switch-slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <span class="page-table-active"
                                        [ngClass]="{ 'page-table-active-yes': item.status }"></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
</ng-container>

<ng-container *ngIf="popupAdd">
    <div class="popup-voucher">
        <div class="popup-container">
            <div class="popup-header">
                <span class="popup-header-text">New Voucher</span>
                <span class="popup-close" (click)="popupAdd=false">X</span>
            </div>
            <div class="popup-body">
                <form #voucherAddForm class="popup-form">
                    <label for="voucherCode">Voucher code</label>
                    <input type="text" class="ducatus-inputs-input" id="voucherCode">
                    <label for="activationCode">Activation code</label>
                    <input type="text" class="ducatus-inputs-input" id="activationCode">
                    <div class="popup-form-group">
                        <div class="popup-form-group-item">
                            <label for="amountVoucher">Amount</label>
                            <input type="text" class="ducatus-inputs-input" id="amountVoucher">
                        </div>
                        <div class="popup-form-group-item">
                            <label for="freezeVoucher">Freeze time</label>
                            <input type="text" class="ducatus-inputs-input" id="freezeVoucher">
                        </div>
                    </div>
                    <div class="popup-form-group">
                        <div class="popup-form-group-item">
                            <label class="popup-label" for="statusVoucher">Status</label>
                            <label class="ducatus-inputs-switch">
                                <input type="checkbox" id="statusVoucher" [checked]="true">
                                <span class="ducatus-inputs-switch-slider"></span>
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="ducatus-btn ducatus-btn-brown">ADD</button>
                </form>
            </div>
        </div>
    </div>
</ng-container>